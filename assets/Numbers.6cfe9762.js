import{v as Y,r as s,x as k,S as q,y as D,q as o,V as O,z,A as C,B as R,C as U,D as X,f as E,o as i,c as d,e as x,t as B,E as N,u as g,_ as L,w as V,F as $,G as j,g as G}from"./index.9c45d513.js";const w=Y(s(!0));function H(){var t;return(t=k(q))!=null?t:w}function J(){var t;return(t=k(D))!=null?t:w}function K(){const t=s(!1);return z(()=>t.value=!0),C(()=>t.value=!1),t}function P(t){const{result:e,toggle:u,throttleToggle:n}=R(!0,t);return U(()=>{u(!0)}),X(()=>{n(!1)}),e}function se(t=O){const e=t>0?H():J(),u=K(),n=P(t);return o(()=>e.value&&u.value&&n.value)}const Q={class:"animated-numbers__number-container"},W={style:{visibility:"hidden"}},Z=E({__name:"SingleNumber",props:{number:null,state:null},setup(t){const e=t,u=o(()=>(e.number+1)%10),n=o(()=>({opacity:Math.max(0,e.state),transform:`translateY(${(1-e.state)*50}%) rotateX(${(e.state-1)*61}deg)`})),y=o(()=>({opacity:Math.abs(1-e.state),transform:`translateY(-${e.state*50}%) rotateX(${e.state*61}deg)`}));return(h,m)=>(i(),d("span",Q,[x("span",W,B(e.number),1),x("span",{class:"animated-numbers__number",style:N(g(y))},B(e.number),5),x("span",{class:"animated-numbers__number",style:N([{"user-select":"none"},g(n)])},B(g(u)),5)]))}});const ee=L(Z,[["__scopeId","data-v-31cf8a18"]]),te={class:"animated-numbers"},ae=E({__name:"Numbers",props:{value:null,comma:{type:Boolean},duration:null,delay:null},setup(t){const e=t;function u(a){return a*a*(3-2*a)}const n=o(()=>e.duration||400),y=o(()=>M.value===0&&e.delay||0),h=s(0),m=s(0),M=s(e.value),_=s(e.value),f=s(e.value),p=s(!1);function T(a){const c=a-h.value-y.value;if(c>n.value){m.value=1,p.value=!1;return}m.value=u(c/n.value),requestAnimationFrame(T)}function I(){p.value=!0,h.value=performance.now(),requestAnimationFrame(T)}V(()=>e.value,a=>{p.value?f.value=a:(_.value=a,f.value=a,I())}),V(p,a=>{a||(M.value=_.value,m.value=0,_.value!==f.value&&(_.value=f.value,I()))},{immediate:!0});const F=o(()=>{const a=[];let c=Math.max(0,Math.min(1,m.value)),b=Math.abs(M.value),v=Math.abs(_.value),r=0;for(;v>=1;){e.comma&&r%3===0&&r!==0&&a.push({comma:!0,number:0,state:0,key:r}),r+=1;let l=Math.floor(b%10),S=Math.floor(v%10),A=S>=l?S-l:S-l+10;a.push({comma:!1,number:(l+Math.floor(A*c))%10,state:A*c%1,key:r}),v/=10,b/=10}return a.length===0&&a.push({comma:!1,number:0,state:0,key:1}),a.reverse()});return(a,c)=>(i(),d("span",te,[(i(!0),d($,null,j(g(F),({comma:b,number:v,state:r,key:l})=>(i(),d($,null,[b?(i(),d("span",{class:"animated-numbers__comma",key:`comma-${l}`},",")):(i(),G(ee,{number:v,state:r,key:`number-${l}`},null,8,["number","state"]))],64))),256))]))}});const ue=L(ae,[["__scopeId","data-v-a9875cda"]]);export{ue as A,se as u};
